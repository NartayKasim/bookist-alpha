{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KASIM\\\\Documents\\\\bookist-alpha\\\\client\\\\src\\\\components\\\\book\\\\ratings\\\\RatingActive.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { updateUserBooks } from \"../../../services/librarySlice\";\nimport classes from \"./Rating.module.css\";\nimport starEmpty from \"../../../assets/starEmpty.png\";\nimport starFull from \"../../../assets/starFull.png\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RatingActive(_ref) {\n  _s();\n\n  let {\n    book,\n    setBook\n  } = _ref;\n  const dispatch = useDispatch();\n  const [stars, setStars] = useState(book.user_rating || 0);\n  const [starsIntermediate, setStarsIntermediate] = useState(stars);\n\n  const setHover = num => {\n    setStarsIntermediate(num);\n    setStarsIntermediate(num);\n  };\n\n  const setHoverExit = () => {\n    setStarsIntermediate(stars);\n  };\n\n  const onSetStarsClick = async num => {\n    setStarsIntermediate(num);\n    setStars(num);\n    onRateBookClick(num);\n  };\n\n  const onRateBookClick = rating => {\n    axios.post(\"/api/library/rate\", {\n      book,\n      rating\n    }).then(response => {\n      dispatch(updateUserBooks(response.data));\n      setBook(response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.ratingActive,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.ratingActiveTitle,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Your Rating\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.ratingActiveRating,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.starImage,\n        src: starsIntermediate < 1 ? starEmpty : starFull,\n        onMouseEnter: () => setHover(1),\n        onMouseLeave: () => setHoverExit(),\n        onClick: () => onSetStarsClick(1),\n        alt: \"star\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.starImage,\n        src: starsIntermediate < 2 ? starEmpty : starFull,\n        onMouseEnter: () => setHover(2),\n        onMouseLeave: () => setHoverExit(),\n        onClick: () => onSetStarsClick(2),\n        alt: \"star\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.starImage,\n        src: starsIntermediate < 3 ? starEmpty : starFull,\n        onMouseEnter: () => setHover(3),\n        onMouseLeave: () => setHoverExit(),\n        onClick: () => onSetStarsClick(3),\n        alt: \"star\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.starImage,\n        src: starsIntermediate < 4 ? starEmpty : starFull,\n        onMouseEnter: () => setHover(4),\n        onMouseLeave: () => setHoverExit(),\n        onClick: () => onSetStarsClick(4),\n        alt: \"star\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        className: classes.starImage,\n        src: starsIntermediate < 5 ? starEmpty : starFull,\n        onMouseEnter: () => setHover(5),\n        onMouseLeave: () => setHoverExit(),\n        onClick: () => onSetStarsClick(5),\n        alt: \"star\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 7\n  }, this);\n}\n\n_s(RatingActive, \"elsQxnM41t6g5yxn5IC1XEpJgeI=\", false, function () {\n  return [useDispatch];\n});\n\n_c = RatingActive;\n\nvar _c;\n\n$RefreshReg$(_c, \"RatingActive\");","map":{"version":3,"sources":["C:/Users/KASIM/Documents/bookist-alpha/client/src/components/book/ratings/RatingActive.jsx"],"names":["useState","useDispatch","updateUserBooks","classes","starEmpty","starFull","axios","RatingActive","book","setBook","dispatch","stars","setStars","user_rating","starsIntermediate","setStarsIntermediate","setHover","num","setHoverExit","onSetStarsClick","onRateBookClick","rating","post","then","response","data","ratingActive","ratingActiveTitle","ratingActiveRating","starImage"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,YAAT,OAAyC;AAAA;;AAAA,MAAnB;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAmB;AACrD,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AAEA,QAAM,CAACU,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAACQ,IAAI,CAACK,WAAL,IAAoB,CAArB,CAAlC;AACA,QAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4Cf,QAAQ,CAACW,KAAD,CAA1D;;AAEA,QAAMK,QAAQ,GAAIC,GAAD,IAAS;AACvBF,IAAAA,oBAAoB,CAACE,GAAD,CAApB;AACAF,IAAAA,oBAAoB,CAACE,GAAD,CAApB;AACF,GAHD;;AAKA,QAAMC,YAAY,GAAG,MAAM;AACxBH,IAAAA,oBAAoB,CAACJ,KAAD,CAApB;AACF,GAFD;;AAIA,QAAMQ,eAAe,GAAG,MAAOF,GAAP,IAAe;AACpCF,IAAAA,oBAAoB,CAACE,GAAD,CAApB;AACAL,IAAAA,QAAQ,CAACK,GAAD,CAAR;AACAG,IAAAA,eAAe,CAACH,GAAD,CAAf;AACF,GAJD;;AAMA,QAAMG,eAAe,GAAIC,MAAD,IAAY;AACjCf,IAAAA,KAAK,CAACgB,IAAN,CAAW,mBAAX,EAAgC;AAAEd,MAAAA,IAAF;AAAQa,MAAAA;AAAR,KAAhC,EAAkDE,IAAlD,CAAwDC,QAAD,IAAc;AAClEd,MAAAA,QAAQ,CAACR,eAAe,CAACsB,QAAQ,CAACC,IAAV,CAAhB,CAAR;AACAhB,MAAAA,OAAO,CAACe,QAAQ,CAACC,IAAV,CAAP;AACF,KAHD;AAIF,GALD;;AAOA,sBACG;AAAK,IAAA,SAAS,EAAEtB,OAAO,CAACuB,YAAxB;AAAA,4BACG;AAAK,MAAA,SAAS,EAAEvB,OAAO,CAACwB,iBAAxB;AAAA,6BACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,YADH,eAIG;AAAK,MAAA,SAAS,EAAExB,OAAO,CAACyB,kBAAxB;AAAA,8BACG;AACG,QAAA,SAAS,EAAEzB,OAAO,CAAC0B,SADtB;AAEG,QAAA,GAAG,EAAEf,iBAAiB,GAAG,CAApB,GAAwBV,SAAxB,GAAoCC,QAF5C;AAGG,QAAA,YAAY,EAAE,MAAMW,QAAQ,CAAC,CAAD,CAH/B;AAIG,QAAA,YAAY,EAAE,MAAME,YAAY,EAJnC;AAKG,QAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,CAAD,CALjC;AAMG,QAAA,GAAG,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cADH,eASG;AACG,QAAA,SAAS,EAAEhB,OAAO,CAAC0B,SADtB;AAEG,QAAA,GAAG,EAAEf,iBAAiB,GAAG,CAApB,GAAwBV,SAAxB,GAAoCC,QAF5C;AAGG,QAAA,YAAY,EAAE,MAAMW,QAAQ,CAAC,CAAD,CAH/B;AAIG,QAAA,YAAY,EAAE,MAAME,YAAY,EAJnC;AAKG,QAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,CAAD,CALjC;AAMG,QAAA,GAAG,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cATH,eAiBG;AACG,QAAA,SAAS,EAAEhB,OAAO,CAAC0B,SADtB;AAEG,QAAA,GAAG,EAAEf,iBAAiB,GAAG,CAApB,GAAwBV,SAAxB,GAAoCC,QAF5C;AAGG,QAAA,YAAY,EAAE,MAAMW,QAAQ,CAAC,CAAD,CAH/B;AAIG,QAAA,YAAY,EAAE,MAAME,YAAY,EAJnC;AAKG,QAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,CAAD,CALjC;AAMG,QAAA,GAAG,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cAjBH,eAyBG;AACG,QAAA,SAAS,EAAEhB,OAAO,CAAC0B,SADtB;AAEG,QAAA,GAAG,EAAEf,iBAAiB,GAAG,CAApB,GAAwBV,SAAxB,GAAoCC,QAF5C;AAGG,QAAA,YAAY,EAAE,MAAMW,QAAQ,CAAC,CAAD,CAH/B;AAIG,QAAA,YAAY,EAAE,MAAME,YAAY,EAJnC;AAKG,QAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,CAAD,CALjC;AAMG,QAAA,GAAG,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cAzBH,eAiCG;AACG,QAAA,SAAS,EAAEhB,OAAO,CAAC0B,SADtB;AAEG,QAAA,GAAG,EAAEf,iBAAiB,GAAG,CAApB,GAAwBV,SAAxB,GAAoCC,QAF5C;AAGG,QAAA,YAAY,EAAE,MAAMW,QAAQ,CAAC,CAAD,CAH/B;AAIG,QAAA,YAAY,EAAE,MAAME,YAAY,EAJnC;AAKG,QAAA,OAAO,EAAE,MAAMC,eAAe,CAAC,CAAD,CALjC;AAMG,QAAA,GAAG,EAAC;AANP;AAAA;AAAA;AAAA;AAAA,cAjCH;AAAA;AAAA;AAAA;AAAA;AAAA,YAJH;AAAA;AAAA;AAAA;AAAA;AAAA,UADH;AAiDF;;GA7EuBZ,Y;UACJN,W;;;KADIM,Y","sourcesContent":["import { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateUserBooks } from \"../../../services/librarySlice\";\r\nimport classes from \"./Rating.module.css\";\r\nimport starEmpty from \"../../../assets/starEmpty.png\";\r\nimport starFull from \"../../../assets/starFull.png\";\r\nimport axios from \"axios\";\r\n\r\nexport default function RatingActive({ book, setBook }) {\r\n   const dispatch = useDispatch();\r\n\r\n   const [stars, setStars] = useState(book.user_rating || 0);\r\n   const [starsIntermediate, setStarsIntermediate] = useState(stars);\r\n\r\n   const setHover = (num) => {\r\n      setStarsIntermediate(num);\r\n      setStarsIntermediate(num);\r\n   };\r\n\r\n   const setHoverExit = () => {\r\n      setStarsIntermediate(stars);\r\n   };\r\n\r\n   const onSetStarsClick = async (num) => {\r\n      setStarsIntermediate(num);\r\n      setStars(num);\r\n      onRateBookClick(num);\r\n   };\r\n\r\n   const onRateBookClick = (rating) => {\r\n      axios.post(\"/api/library/rate\", { book, rating }).then((response) => {\r\n         dispatch(updateUserBooks(response.data));\r\n         setBook(response.data);\r\n      });\r\n   };\r\n\r\n   return (\r\n      <div className={classes.ratingActive}>\r\n         <div className={classes.ratingActiveTitle}>\r\n            <span>Your Rating</span>\r\n         </div>\r\n         <div className={classes.ratingActiveRating}>\r\n            <img\r\n               className={classes.starImage}\r\n               src={starsIntermediate < 1 ? starEmpty : starFull}\r\n               onMouseEnter={() => setHover(1)}\r\n               onMouseLeave={() => setHoverExit()}\r\n               onClick={() => onSetStarsClick(1)}\r\n               alt=\"star\"\r\n            />\r\n            <img\r\n               className={classes.starImage}\r\n               src={starsIntermediate < 2 ? starEmpty : starFull}\r\n               onMouseEnter={() => setHover(2)}\r\n               onMouseLeave={() => setHoverExit()}\r\n               onClick={() => onSetStarsClick(2)}\r\n               alt=\"star\"\r\n            />\r\n            <img\r\n               className={classes.starImage}\r\n               src={starsIntermediate < 3 ? starEmpty : starFull}\r\n               onMouseEnter={() => setHover(3)}\r\n               onMouseLeave={() => setHoverExit()}\r\n               onClick={() => onSetStarsClick(3)}\r\n               alt=\"star\"\r\n            />\r\n            <img\r\n               className={classes.starImage}\r\n               src={starsIntermediate < 4 ? starEmpty : starFull}\r\n               onMouseEnter={() => setHover(4)}\r\n               onMouseLeave={() => setHoverExit()}\r\n               onClick={() => onSetStarsClick(4)}\r\n               alt=\"star\"\r\n            />\r\n            <img\r\n               className={classes.starImage}\r\n               src={starsIntermediate < 5 ? starEmpty : starFull}\r\n               onMouseEnter={() => setHover(5)}\r\n               onMouseLeave={() => setHoverExit()}\r\n               onClick={() => onSetStarsClick(5)}\r\n               alt=\"star\"\r\n            />\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}