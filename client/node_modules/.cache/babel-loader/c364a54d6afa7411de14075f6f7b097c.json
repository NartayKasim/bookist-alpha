{"ast":null,"code":"import _slicedToArray from\"C:/Users/KASIM/Documents/bookist-alpha/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classes from\"./Book.module.css\";import Cover from\"./cover/Cover\";import Authors from\"./authors/Authors\";import Description from\"./description/Description\";import Rating from\"./ratings/Rating\";import{useFormatWithUserBooks}from\"../../app/hooks\";import{useState}from\"react\";import{useSelector}from\"react-redux\";import{useNavigate}from\"react-router\";import{useDispatch}from\"react-redux\";import{updateUserBooks}from\"../../services/librarySlice\";// import { AnimatePresence, motion } from \"framer-motion\";\n// const bookVariant = {\n//    hidden: {\n//       boxShadow: \"none\",\n//    },\n//    shown: {\n//       boxShadow:\n//          \"3px 3px 6px rgb(223, 210, 204), -3px -1px 6px rgb(255, 255, 255), -1px -3px 6px rgb(255, 255, 255)\",\n//       transition: { duration: 0.5 },\n//    },\n// };\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Book(_ref){var searchResult=_ref.searchResult;var isLoggedIn=useSelector(function(state){return state.library.isLoggedIn;});var formatResult=useFormatWithUserBooks(searchResult);var _useState=useState(formatResult),_useState2=_slicedToArray(_useState,2),book=_useState2[0],setBook=_useState2[1];var navigate=useNavigate();var dispatch=useDispatch();var onBookTitleClick=function onBookTitleClick(){dispatch(updateUserBooks(book));navigate(\"/book/?author=\".concat(book.author.replaceAll(\" \",\"+\"),\"&title=\").concat(book.title.replaceAll(\" \",\"+\")));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:classes.bookWrapper,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.bookHeader,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.titleWrapper,onClick:function onClick(){return onBookTitleClick();},children:book.title}),/*#__PURE__*/_jsx(\"div\",{className:classes.authorsWrapper,children:/*#__PURE__*/_jsx(Authors,{authors:book.volume_info.authors})})]}),/*#__PURE__*/_jsxs(\"div\",{className:classes.bookBody,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.bookBodyLeft,children:/*#__PURE__*/_jsx(Cover,{imageLinks:book.volume_info.imageLinks,size:\"small\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.bookBodyRight,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.ratingsWrapper,children:[/*#__PURE__*/_jsx(Rating,{average_rating:book.average_rating,rating_count:book.rating_count}),isLoggedIn&&/*#__PURE__*/_jsx(Rating,{isActive:true,book:book,setBook:setBook})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.descriptionWrapper,children:/*#__PURE__*/_jsx(Description,{description:book.volume_info.description})})]})]})]})});}","map":{"version":3,"sources":["C:/Users/KASIM/Documents/bookist-alpha/client/src/components/book/Book.jsx"],"names":["classes","Cover","Authors","Description","Rating","useFormatWithUserBooks","useState","useSelector","useNavigate","useDispatch","updateUserBooks","Book","searchResult","isLoggedIn","state","library","formatResult","book","setBook","navigate","dispatch","onBookTitleClick","author","replaceAll","title","bookWrapper","bookHeader","titleWrapper","authorsWrapper","volume_info","authors","bookBody","bookBodyLeft","imageLinks","bookBodyRight","ratingsWrapper","average_rating","rating_count","descriptionWrapper","description"],"mappings":"yHAAA,MAAOA,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,eAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,kBAAnB,CACA,OAASC,sBAAT,KAAuC,iBAAvC,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,eAAT,KAAgC,6BAAhC,CACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;6IAEA,cAAe,SAASC,CAAAA,IAAT,MAAgC,IAAhBC,CAAAA,YAAgB,MAAhBA,YAAgB,CAC5C,GAAMC,CAAAA,UAAU,CAAGN,WAAW,CAAC,SAACO,KAAD,QAAWA,CAAAA,KAAK,CAACC,OAAN,CAAcF,UAAzB,EAAD,CAA9B,CACA,GAAMG,CAAAA,YAAY,CAAGX,sBAAsB,CAACO,YAAD,CAA3C,CACA,cAAwBN,QAAQ,CAACU,YAAD,CAAhC,wCAAOC,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CACA,GAAMY,CAAAA,QAAQ,CAAGX,WAAW,EAA5B,CAEA,GAAMY,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC5BD,QAAQ,CAACV,eAAe,CAACO,IAAD,CAAhB,CAAR,CACAE,QAAQ,yBACYF,IAAI,CAACK,MAAL,CAAYC,UAAZ,CACd,GADc,CAEd,GAFc,CADZ,mBAIMN,IAAI,CAACO,KAAL,CAAWD,UAAX,CAAsB,GAAtB,CAA2B,GAA3B,CAJN,EAAR,CAMF,CARD,CAUA,mBACG,sCACG,aAAK,SAAS,CAAEvB,OAAO,CAACyB,WAAxB,wBACG,aAAK,SAAS,CAAEzB,OAAO,CAAC0B,UAAxB,wBACG,YACG,SAAS,CAAE1B,OAAO,CAAC2B,YADtB,CAEG,OAAO,CAAE,yBAAMN,CAAAA,gBAAgB,EAAtB,EAFZ,UAIIJ,IAAI,CAACO,KAJT,EADH,cAOG,YAAK,SAAS,CAAExB,OAAO,CAAC4B,cAAxB,uBACG,KAAC,OAAD,EAAS,OAAO,CAAEX,IAAI,CAACY,WAAL,CAAiBC,OAAnC,EADH,EAPH,GADH,cAYG,aAAK,SAAS,CAAE9B,OAAO,CAAC+B,QAAxB,wBACG,YAAK,SAAS,CAAE/B,OAAO,CAACgC,YAAxB,uBACG,KAAC,KAAD,EACG,UAAU,CAAEf,IAAI,CAACY,WAAL,CAAiBI,UADhC,CAEG,IAAI,CAAE,OAFT,EADH,EADH,cAOG,aAAK,SAAS,CAAEjC,OAAO,CAACkC,aAAxB,wBACG,aAAK,SAAS,CAAElC,OAAO,CAACmC,cAAxB,wBACG,KAAC,MAAD,EACG,cAAc,CAAElB,IAAI,CAACmB,cADxB,CAEG,YAAY,CAAEnB,IAAI,CAACoB,YAFtB,EADH,CAKIxB,UAAU,eACR,KAAC,MAAD,EAAQ,QAAQ,CAAE,IAAlB,CAAwB,IAAI,CAAEI,IAA9B,CAAoC,OAAO,CAAEC,OAA7C,EANN,GADH,cAUG,YAAK,SAAS,CAAElB,OAAO,CAACsC,kBAAxB,uBACG,KAAC,WAAD,EAAa,WAAW,CAAErB,IAAI,CAACY,WAAL,CAAiBU,WAA3C,EADH,EAVH,GAPH,GAZH,GADH,EADH,CAuCF","sourcesContent":["import classes from \"./Book.module.css\";\r\nimport Cover from \"./cover/Cover\";\r\nimport Authors from \"./authors/Authors\";\r\nimport Description from \"./description/Description\";\r\nimport Rating from \"./ratings/Rating\";\r\nimport { useFormatWithUserBooks } from \"../../app/hooks\";\r\nimport { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateUserBooks } from \"../../services/librarySlice\";\r\n// import { AnimatePresence, motion } from \"framer-motion\";\r\n\r\n// const bookVariant = {\r\n//    hidden: {\r\n//       boxShadow: \"none\",\r\n//    },\r\n//    shown: {\r\n//       boxShadow:\r\n//          \"3px 3px 6px rgb(223, 210, 204), -3px -1px 6px rgb(255, 255, 255), -1px -3px 6px rgb(255, 255, 255)\",\r\n//       transition: { duration: 0.5 },\r\n//    },\r\n// };\r\n\r\nexport default function Book({ searchResult }) {\r\n   const isLoggedIn = useSelector((state) => state.library.isLoggedIn);\r\n   const formatResult = useFormatWithUserBooks(searchResult);\r\n   const [book, setBook] = useState(formatResult);\r\n   const navigate = useNavigate();\r\n   const dispatch = useDispatch();\r\n\r\n   const onBookTitleClick = () => {\r\n      dispatch(updateUserBooks(book));\r\n      navigate(\r\n         `/book/?author=${book.author.replaceAll(\r\n            \" \",\r\n            \"+\"\r\n         )}&title=${book.title.replaceAll(\" \", \"+\")}`\r\n      );\r\n   };\r\n\r\n   return (\r\n      <>\r\n         <div className={classes.bookWrapper}>\r\n            <div className={classes.bookHeader}>\r\n               <div\r\n                  className={classes.titleWrapper}\r\n                  onClick={() => onBookTitleClick()}\r\n               >\r\n                  {book.title}\r\n               </div>\r\n               <div className={classes.authorsWrapper}>\r\n                  <Authors authors={book.volume_info.authors} />\r\n               </div>\r\n            </div>\r\n            <div className={classes.bookBody}>\r\n               <div className={classes.bookBodyLeft}>\r\n                  <Cover\r\n                     imageLinks={book.volume_info.imageLinks}\r\n                     size={\"small\"}\r\n                  />\r\n               </div>\r\n               <div className={classes.bookBodyRight}>\r\n                  <div className={classes.ratingsWrapper}>\r\n                     <Rating\r\n                        average_rating={book.average_rating}\r\n                        rating_count={book.rating_count}\r\n                     />\r\n                     {isLoggedIn && (\r\n                        <Rating isActive={true} book={book} setBook={setBook} />\r\n                     )}\r\n                  </div>\r\n                  <div className={classes.descriptionWrapper}>\r\n                     <Description description={book.volume_info.description} />\r\n                  </div>\r\n               </div>\r\n            </div>\r\n         </div>\r\n      </>\r\n   );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}