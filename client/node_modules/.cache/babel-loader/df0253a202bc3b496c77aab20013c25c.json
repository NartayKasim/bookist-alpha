{"ast":null,"code":"import classes from\"./SearchPage.module.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SearchFilter(_ref){var searchResults=_ref.searchResults,applyFilter=_ref.applyFilter;var onFilterResultClick=function onFilterResultClick(filterType){if(filterType===\"popular\"){var ratingCounts=[];var filterByPopular=[];for(var i=0;i<searchResults.length;i++){ratingCounts.push([parseInt(searchResults[i].rating_count)||0,i]);}var sortedCounts=ratingCounts.sort(function(a,b){return b[0]-a[0];});for(var _i=0;_i<sortedCounts.length;_i++){filterByPopular.push(searchResults[sortedCounts[_i][1]]);}applyFilter(filterByPopular);}if(filterType===\"rated\"){var averageRatingCounts=[];var filterByHighestRated=[];for(var _i2=0;_i2<searchResults.length;_i2++){averageRatingCounts.push([searchResults[_i2].average_rating||0,_i2]);}var sortedAverageRatingCounts=averageRatingCounts.sort(function(a,b){return b[0]-a[0];});for(var _i3=0;_i3<sortedAverageRatingCounts.length;_i3++){filterByHighestRated.push(searchResults[sortedAverageRatingCounts[_i3][1]]);}applyFilter(filterByHighestRated);}};return/*#__PURE__*/_jsxs(\"div\",{className:classes.searchFilter,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.searchFilterHeader,children:/*#__PURE__*/_jsx(\"strong\",{children:\"Filters\"})}),/*#__PURE__*/_jsx(\"div\",{className:classes.searchFilterRow,onClick:function onClick(){return onFilterResultClick(\"popular\");},children:\"Most Popular\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.searchFilterRow,onClick:function onClick(){return onFilterResultClick(\"rated\");},children:\"Highest Rated\"})]});}","map":{"version":3,"sources":["C:/Users/KASIM/Documents/bookist-alpha/client/src/pages/search/SearchFilter.jsx"],"names":["classes","SearchFilter","searchResults","applyFilter","onFilterResultClick","filterType","ratingCounts","filterByPopular","i","length","push","parseInt","rating_count","sortedCounts","sort","a","b","averageRatingCounts","filterByHighestRated","average_rating","sortedAverageRatingCounts","searchFilter","searchFilterHeader","searchFilterRow"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,yBAApB,C,wFAEA,cAAe,SAASC,CAAAA,YAAT,MAAsD,IAA9BC,CAAAA,aAA8B,MAA9BA,aAA8B,CAAfC,WAAe,MAAfA,WAAe,CAClE,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,UAAD,CAAgB,CACzC,GAAIA,UAAU,GAAK,SAAnB,CAA8B,CAC3B,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGN,aAAa,CAACO,MAAlC,CAA0CD,CAAC,EAA3C,CAA+C,CAC5CF,YAAY,CAACI,IAAb,CAAkB,CACfC,QAAQ,CAACT,aAAa,CAACM,CAAD,CAAb,CAAiBI,YAAlB,CAAR,EAA2C,CAD5B,CAEfJ,CAFe,CAAlB,EAIF,CACD,GAAIK,CAAAA,YAAY,CAAGP,YAAY,CAACQ,IAAb,CAAkB,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAAC,CAAD,CAAD,CAAOD,CAAC,CAAC,CAAD,CAAlB,EAAlB,CAAnB,CACA,IAAK,GAAIP,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGK,YAAY,CAACJ,MAAjC,CAAyCD,EAAC,EAA1C,CAA8C,CAC3CD,eAAe,CAACG,IAAhB,CAAqBR,aAAa,CAACW,YAAY,CAACL,EAAD,CAAZ,CAAgB,CAAhB,CAAD,CAAlC,EACF,CACDL,WAAW,CAACI,eAAD,CAAX,CACF,CACD,GAAIF,UAAU,GAAK,OAAnB,CAA4B,CACzB,GAAIY,CAAAA,mBAAmB,CAAG,EAA1B,CACA,GAAIC,CAAAA,oBAAoB,CAAG,EAA3B,CACA,IAAK,GAAIV,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAGN,aAAa,CAACO,MAAlC,CAA0CD,GAAC,EAA3C,CAA+C,CAC5CS,mBAAmB,CAACP,IAApB,CAAyB,CAACR,aAAa,CAACM,GAAD,CAAb,CAAiBW,cAAjB,EAAmC,CAApC,CAAuCX,GAAvC,CAAzB,EACF,CACD,GAAIY,CAAAA,yBAAyB,CAAGH,mBAAmB,CAACH,IAApB,CAC7B,SAACC,CAAD,CAAIC,CAAJ,QAAUA,CAAAA,CAAC,CAAC,CAAD,CAAD,CAAOD,CAAC,CAAC,CAAD,CAAlB,EAD6B,CAAhC,CAGA,IAAK,GAAIP,CAAAA,GAAC,CAAG,CAAb,CAAgBA,GAAC,CAAGY,yBAAyB,CAACX,MAA9C,CAAsDD,GAAC,EAAvD,CAA2D,CACxDU,oBAAoB,CAACR,IAArB,CACGR,aAAa,CAACkB,yBAAyB,CAACZ,GAAD,CAAzB,CAA6B,CAA7B,CAAD,CADhB,EAGF,CACDL,WAAW,CAACe,oBAAD,CAAX,CACF,CACH,CAhCD,CAkCA,mBACG,aAAK,SAAS,CAAElB,OAAO,CAACqB,YAAxB,wBACG,YAAK,SAAS,CAAErB,OAAO,CAACsB,kBAAxB,uBACG,mCADH,EADH,cAIG,YACG,SAAS,CAAEtB,OAAO,CAACuB,eADtB,CAEG,OAAO,CAAE,yBAAMnB,CAAAA,mBAAmB,CAAC,SAAD,CAAzB,EAFZ,0BAJH,cAUG,YACG,SAAS,CAAEJ,OAAO,CAACuB,eADtB,CAEG,OAAO,CAAE,yBAAMnB,CAAAA,mBAAmB,CAAC,OAAD,CAAzB,EAFZ,2BAVH,GADH,CAmBF","sourcesContent":["import classes from \"./SearchPage.module.css\";\r\n\r\nexport default function SearchFilter({ searchResults, applyFilter }) {\r\n   const onFilterResultClick = (filterType) => {\r\n      if (filterType === \"popular\") {\r\n         let ratingCounts = [];\r\n         let filterByPopular = [];\r\n         for (let i = 0; i < searchResults.length; i++) {\r\n            ratingCounts.push([\r\n               parseInt(searchResults[i].rating_count) || 0,\r\n               i,\r\n            ]);\r\n         }\r\n         let sortedCounts = ratingCounts.sort((a, b) => b[0] - a[0]);\r\n         for (let i = 0; i < sortedCounts.length; i++) {\r\n            filterByPopular.push(searchResults[sortedCounts[i][1]]);\r\n         }\r\n         applyFilter(filterByPopular);\r\n      }\r\n      if (filterType === \"rated\") {\r\n         let averageRatingCounts = [];\r\n         let filterByHighestRated = [];\r\n         for (let i = 0; i < searchResults.length; i++) {\r\n            averageRatingCounts.push([searchResults[i].average_rating || 0, i]);\r\n         }\r\n         let sortedAverageRatingCounts = averageRatingCounts.sort(\r\n            (a, b) => b[0] - a[0]\r\n         );\r\n         for (let i = 0; i < sortedAverageRatingCounts.length; i++) {\r\n            filterByHighestRated.push(\r\n               searchResults[sortedAverageRatingCounts[i][1]]\r\n            );\r\n         }\r\n         applyFilter(filterByHighestRated);\r\n      }\r\n   };\r\n\r\n   return (\r\n      <div className={classes.searchFilter}>\r\n         <div className={classes.searchFilterHeader}>\r\n            <strong>Filters</strong>\r\n         </div>\r\n         <div\r\n            className={classes.searchFilterRow}\r\n            onClick={() => onFilterResultClick(\"popular\")}\r\n         >\r\n            Most Popular\r\n         </div>\r\n         <div\r\n            className={classes.searchFilterRow}\r\n            onClick={() => onFilterResultClick(\"rated\")}\r\n         >\r\n            Highest Rated\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}