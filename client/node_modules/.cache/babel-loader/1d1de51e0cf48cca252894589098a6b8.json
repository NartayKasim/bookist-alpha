{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KASIM\\\\Documents\\\\bookist-alpha\\\\client\\\\src\\\\pages\\\\search\\\\SearchFilter.jsx\";\nimport classes from \"./SearchPage.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SearchFilter(_ref) {\n  let {\n    searchResults,\n    applyFilter\n  } = _ref;\n\n  const onFilterResultClick = filterType => {\n    if (filterType === \"popular\") {\n      let ratingCounts = [];\n      let filterByPopular = [];\n\n      for (let i = 0; i < searchResults.length; i++) {\n        ratingCounts.push([parseInt(searchResults[i].rating_count) || 0, i]);\n      }\n\n      let sortedCounts = ratingCounts.sort((a, b) => b[0] - a[0]);\n\n      for (let i = 0; i < sortedCounts.length; i++) {\n        filterByPopular.push(searchResults[sortedCounts[i][1]]);\n      }\n\n      applyFilter(filterByPopular);\n    }\n\n    if (filterType === \"rated\") {\n      let averageRatingCounts = [];\n      let filterByHighestRated = [];\n\n      for (let i = 0; i < searchResults.length; i++) {\n        averageRatingCounts.push([searchResults[i].average_rating || 0, i]);\n      }\n\n      let sortedAverageRatingCounts = averageRatingCounts.sort((a, b) => b[0] - a[0]);\n\n      for (let i = 0; i < sortedAverageRatingCounts.length; i++) {\n        filterByHighestRated.push(searchResults[sortedAverageRatingCounts[i][1]]);\n      }\n\n      applyFilter(filterByHighestRated);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.searchFilter,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchFilterHeader,\n      children: /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchFilterRow,\n      onClick: () => onFilterResultClick(\"popular\"),\n      children: \"Most Popular\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.searchFilterRow,\n      onClick: () => onFilterResultClick(\"rated\"),\n      children: \"Highest Rated\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 7\n  }, this);\n}\n_c = SearchFilter;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchFilter\");","map":{"version":3,"sources":["C:/Users/KASIM/Documents/bookist-alpha/client/src/pages/search/SearchFilter.jsx"],"names":["classes","SearchFilter","searchResults","applyFilter","onFilterResultClick","filterType","ratingCounts","filterByPopular","i","length","push","parseInt","rating_count","sortedCounts","sort","a","b","averageRatingCounts","filterByHighestRated","average_rating","sortedAverageRatingCounts","searchFilter","searchFilterHeader","searchFilterRow"],"mappings":";AAAA,OAAOA,OAAP,MAAoB,yBAApB;;AAEA,eAAe,SAASC,YAAT,OAAsD;AAAA,MAAhC;AAAEC,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,GAAgC;;AAClE,QAAMC,mBAAmB,GAAIC,UAAD,IAAgB;AACzC,QAAIA,UAAU,KAAK,SAAnB,EAA8B;AAC3B,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAIC,eAAe,GAAG,EAAtB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,aAAa,CAACO,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC5CF,QAAAA,YAAY,CAACI,IAAb,CAAkB,CACfC,QAAQ,CAACT,aAAa,CAACM,CAAD,CAAb,CAAiBI,YAAlB,CAAR,IAA2C,CAD5B,EAEfJ,CAFe,CAAlB;AAIF;;AACD,UAAIK,YAAY,GAAGP,YAAY,CAACQ,IAAb,CAAkB,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAAC,CAAD,CAAD,GAAOD,CAAC,CAAC,CAAD,CAApC,CAAnB;;AACA,WAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGK,YAAY,CAACJ,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC3CD,QAAAA,eAAe,CAACG,IAAhB,CAAqBR,aAAa,CAACW,YAAY,CAACL,CAAD,CAAZ,CAAgB,CAAhB,CAAD,CAAlC;AACF;;AACDL,MAAAA,WAAW,CAACI,eAAD,CAAX;AACF;;AACD,QAAIF,UAAU,KAAK,OAAnB,EAA4B;AACzB,UAAIY,mBAAmB,GAAG,EAA1B;AACA,UAAIC,oBAAoB,GAAG,EAA3B;;AACA,WAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,aAAa,CAACO,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC5CS,QAAAA,mBAAmB,CAACP,IAApB,CAAyB,CAACR,aAAa,CAACM,CAAD,CAAb,CAAiBW,cAAjB,IAAmC,CAApC,EAAuCX,CAAvC,CAAzB;AACF;;AACD,UAAIY,yBAAyB,GAAGH,mBAAmB,CAACH,IAApB,CAC7B,CAACC,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAAC,CAAD,CAAD,GAAOD,CAAC,CAAC,CAAD,CADW,CAAhC;;AAGA,WAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,yBAAyB,CAACX,MAA9C,EAAsDD,CAAC,EAAvD,EAA2D;AACxDU,QAAAA,oBAAoB,CAACR,IAArB,CACGR,aAAa,CAACkB,yBAAyB,CAACZ,CAAD,CAAzB,CAA6B,CAA7B,CAAD,CADhB;AAGF;;AACDL,MAAAA,WAAW,CAACe,oBAAD,CAAX;AACF;AACH,GAhCD;;AAkCA,sBACG;AAAK,IAAA,SAAS,EAAElB,OAAO,CAACqB,YAAxB;AAAA,4BACG;AAAK,MAAA,SAAS,EAAErB,OAAO,CAACsB,kBAAxB;AAAA,6BACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,YADH,eAIG;AACG,MAAA,SAAS,EAAEtB,OAAO,CAACuB,eADtB;AAEG,MAAA,OAAO,EAAE,MAAMnB,mBAAmB,CAAC,SAAD,CAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJH,eAUG;AACG,MAAA,SAAS,EAAEJ,OAAO,CAACuB,eADtB;AAEG,MAAA,OAAO,EAAE,MAAMnB,mBAAmB,CAAC,OAAD,CAFrC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVH;AAAA;AAAA;AAAA;AAAA;AAAA,UADH;AAmBF;KAtDuBH,Y","sourcesContent":["import classes from \"./SearchPage.module.css\";\r\n\r\nexport default function SearchFilter({ searchResults, applyFilter }) {\r\n   const onFilterResultClick = (filterType) => {\r\n      if (filterType === \"popular\") {\r\n         let ratingCounts = [];\r\n         let filterByPopular = [];\r\n         for (let i = 0; i < searchResults.length; i++) {\r\n            ratingCounts.push([\r\n               parseInt(searchResults[i].rating_count) || 0,\r\n               i,\r\n            ]);\r\n         }\r\n         let sortedCounts = ratingCounts.sort((a, b) => b[0] - a[0]);\r\n         for (let i = 0; i < sortedCounts.length; i++) {\r\n            filterByPopular.push(searchResults[sortedCounts[i][1]]);\r\n         }\r\n         applyFilter(filterByPopular);\r\n      }\r\n      if (filterType === \"rated\") {\r\n         let averageRatingCounts = [];\r\n         let filterByHighestRated = [];\r\n         for (let i = 0; i < searchResults.length; i++) {\r\n            averageRatingCounts.push([searchResults[i].average_rating || 0, i]);\r\n         }\r\n         let sortedAverageRatingCounts = averageRatingCounts.sort(\r\n            (a, b) => b[0] - a[0]\r\n         );\r\n         for (let i = 0; i < sortedAverageRatingCounts.length; i++) {\r\n            filterByHighestRated.push(\r\n               searchResults[sortedAverageRatingCounts[i][1]]\r\n            );\r\n         }\r\n         applyFilter(filterByHighestRated);\r\n      }\r\n   };\r\n\r\n   return (\r\n      <div className={classes.searchFilter}>\r\n         <div className={classes.searchFilterHeader}>\r\n            <strong>Filters</strong>\r\n         </div>\r\n         <div\r\n            className={classes.searchFilterRow}\r\n            onClick={() => onFilterResultClick(\"popular\")}\r\n         >\r\n            Most Popular\r\n         </div>\r\n         <div\r\n            className={classes.searchFilterRow}\r\n            onClick={() => onFilterResultClick(\"rated\")}\r\n         >\r\n            Highest Rated\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}